<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Hemlocks Farm & Garden</title>

    <!-- Combined and Inlined Styles from all original files -->
    <style>
        /* General Styles from styles.css and stylesheetactal.css */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
        }

        header {
            background-color: #333;
            color: #fff;
            padding: 20px 0;
            text-align: center;
        }

        .site-title {
            font-size: 2.8em;
            font-weight: 900;
            margin: 0 auto 20px auto;
            display: block;
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
            gap: 30px;
            background-color: #555;
            padding: 10px 20px;
            box-sizing: border-box;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            /* Changed from 'bold' to 'normal' to remove boldness */
            font-weight: normal; 
            font-size: 1.1em;
            transition: color 0.3s;
        }

        nav a:hover, nav a.active {
            color: #00bcd4;
        }

        .main-content {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Home Page Styles */
        .logo-container {
            text-align: center;
            margin-top: 20px;
        }

        .logo-container img {
            max-width: 100%;
            height: auto;
        }

        .facebook-link {
            display: block;
            text-align: center;
            margin-top: 20px;
        }
        
        /* Products Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        /* Product Card Styles */
        .product-card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            text-align: center;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: contain;
            border-radius: 6px;
        }

        .product-title {
            font-size: 1.2em;
            font-weight: bold;
            margin: 15px 0 5px 0;
        }

        .product-price {
            font-size: 1.1em;
            color: #888;
            margin-bottom: 15px;
        }

        .add-to-cart {
            background-color: #6a9c72;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s, color 0.2s;
        }

        .add-to-cart:hover {
            background: #4a7550;
        }

        /* Cart Page Styles */
        #cart-page {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
            margin-right: 15px;
        }

        .cart-item-details {
            flex-grow: 1;
        }

        .cart-item-details h4 {
            margin: 0;
            font-size: 1.1em;
        }

        .cart-item-details p {
            margin: 5px 0 0 0;
            color: #888;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cart-item-controls input {
            width: 50px;
            text-align: center;
        }

        .cart-summary {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #333;
        }

        .cart-summary div {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .cart-summary p {
            font-weight: bold;
            margin: 0;
        }

        .cart-summary .grand-total {
            font-size: 1.5em;
            color: #000;
        }
        
        .checkout-button {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #6a9c72;
            color: #fff;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
            text-decoration: none;
            margin-top: 20px;
        }
        
        .checkout-button:hover {
            background-color: #4a7550;
        }

        /* Checkout Page Styles */
        #checkout-page {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .checkout-summary {
            margin-bottom: 20px;
        }

        .checkout-payment {
            text-align: center;
        }
        
        /* Contact Page Styles */
        .fs-form {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .fs-label {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
        .fs-input, .fs-textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        
        /* Modal for messages */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fff;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            text-align: center;
        }

        .modal-button {
            background-color: #6a9c72;
            color: white;
            padding: 10px 20px;
            margin-top: 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .modal-button:hover {
            background-color: #4a7550;
        }

        /* Hide pages by default */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
    </style>
</head>
<body>

<!-- Modal for messages -->
<div id="custom-modal" class="modal">
    <div class="modal-content">
        <p id="modal-message"></p>
        <button class="modal-button" onclick="closeModal()">OK</button>
    </div>
</div>

<header>
    <div class="site-title">Hemlocks Farm & Garden</div>
    <nav>
        <ul>
            <li><a href="#" class="nav-link" data-page="home">Home</a></li>
            <li><a href="#" class="nav-link" data-page="horse">Horse</a></li>
            <li><a href="#" class="nav-link" data-page="livestock">Livestock</a></li>
            <li><a href="#" class="nav-link" data-page="home-garden">Home/Garden</a></li>
            <li><a href="#" class="nav-link" data-page="wild-bird-deer">Wild Bird/Deer</a></li>
            <li><a href="#" class="nav-link" data-page="delivery">Delivery</a></li>
            <li><a href="#" class="nav-link" data-page="contact">Contact Us</a></li>
            <li><a href="#" class="nav-link" data-page="cart">Cart ðŸ›’ <span id="cart-count">0</span></a></li>
        </ul>
    </nav>
</header>

<div class="main-content">
    
    <!-- Home Page Content from index.html -->
    <div id="home-page" class="page active">
        <div class="logo-container">
            <img src="https://placehold.co/612x400/e0e0e0/000000?text=Hemlocks+Logo" alt="Hemlocks Farm & Garden Logo" width="612" height="400">
        </div>
        <div>
            <a href="https://www.facebook.com/YourStorePageHere" target="_blank" class="facebook-link">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282021%29.svg" alt="Facebook Icon" width="40" height="40"> Follow us on Facebook!
            </a>
        </div>
    </div>
    
    <!-- Horse Products Page Content from horse.html -->
    <div id="horse-page" class="page">
        <h2>Horse Products</h2>
        <input id="search-horse" type="search" placeholder="Search products..." aria-label="Search" />
        <div id="horse-grid" class="grid">
            <div class="product-card">
                <img src="https://placehold.co/300x300/e0e0e0/000000?text=Pelleted+Feed" alt="Pelleted Horse Feed 50lb" class="product-image"/>
                <h3 class="product-title">Pelleted Horse Feed 50lb</h3>
                <p class="product-price">$24.99</p>
                <button class="add-to-cart" data-id="h1">Add to Cart</button>
            </div>
            <div class="product-card">
                <img src="https://placehold.co/300x300/e0e0e0/000000?text=Horse+Supplements" alt="Horse Supplements" class="product-image"/>
                <h3 class="product-title">Horse Supplements</h3>
                <p class="product-price">$35.50</p>
                <button class="add-to-cart" data-id="h2">Add to Cart</button>
            </div>
        </div>
        <p id="no-results-horse" style="display: none;">No products found.</p>
    </div>
    
    <!-- Livestock Products Page Content from livestock.html -->
    <div id="livestock-page" class="page">
        <h2>Livestock Products</h2>
        <input id="search-livestock" type="search" placeholder="Search products..." aria-label="Search" />
        <div id="livestock-grid" class="grid">
            <div class="product-card">
                <img src="https://placehold.co/300x300/e0e0e0/000000?text=Chicken+Feed" alt="Chicken Feed 25lb" class="product-image"/>
                <h3 class="product-title">Chicken Feed 25lb</h3>
                <p class="product-price">$18.99</p>
                <button class="add-to-cart" data-id="l1">Add to Cart</button>
            </div>
            <div class="product-card">
                <img src="https://placehold.co/300x300/e0e0e0/000000?text=Goat+Mineral+Mix" alt="Goat Mineral Mix" class="product-image"/>
                <h3 class="product-title">Goat Mineral Mix</h3>
                <p class="product-price">$22.50</p>
                <button class="add-to-cart" data-id="l2">Add to Cart</button>
            </div>
        </div>
        <p id="no-results-livestock" style="display: none;">No products found.</p>
    </div>
    
    <!-- Home/Garden Page Content from home-garden.html -->
    <div id="home-garden-page" class="page">
        <h2>Home/Garden Products</h2>
        <input id="search-home-garden" type="search" placeholder="Search products..." aria-label="Search" />
        <div id="home-garden-grid" class="grid">
            <div class="product-card">
                <img src="https://placehold.co/300x300/e0e0e0/000000?text=Pruning+Shears" alt="Pruning Shears" class="product-image"/>
                <h3 class="product-title">Pruning Shears</h3>
                <p class="product-price">$12.99</p>
                <button class="add-to-cart" data-id="hg1">Add to Cart</button>
            </div>
            <div class="product-card">
                <img src="https://placehold.co/300x300/e0e0e0/000000?text=Tomato+Cages" alt="Tomato Cages (Set of 3)" class="product-image"/>
                <h3 class="product-title">Tomato Cages (Set of 3)</h3>
                <p class="product-price">$9.75</p>
                <button class="add-to-cart" data-id="hg2">Add to Cart</button>
            </div>
        </div>
        <p id="no-results-home-garden" style="display: none;">No products found.</p>
    </div>
    
    <!-- Wild Bird/Deer Page Content -->
    <div id="wild-bird-deer-page" class="page">
        <h2>Wild Bird/Deer Products</h2>
        <input id="search-wild-bird-deer" type="search" placeholder="Search products..." aria-label="Search" />
        <div id="wild-bird-deer-grid" class="grid">
            <div class="product-card">
                <img src="https://placehold.co/300x300/e0e0e0/000000?text=Bird+Seed" alt="Wild Bird Seed Mix 10lb" class="product-image"/>
                <h3 class="product-title">Wild Bird Seed Mix 10lb</h3>
                <p class="product-price">$15.00</p>
                <button class="add-to-cart" data-id="wbd1">Add to Cart</button>
            </div>
            <div class="product-card">
                <img src="https://placehold.co/300x300/e0e0e0/000000?text=Deer+Corn" alt="Deer Corn 40lb" class="product-image"/>
                <h3 class="product-title">Deer Corn 40lb</h3>
                <p class="product-price">$10.50</p>
                <button class="add-to-cart" data-id="wbd2">Add to Cart</button>
            </div>
        </div>
        <p id="no-results-wild-bird-deer" style="display: none;">No products found.</p>
    </div>

    <!-- Delivery Page Content from delivery.html -->
    <div id="delivery-page" class="page">
        <h2>Delivery</h2>
        <p>This is the delivery page content.</p>
    </div>

    <!-- Contact Page Content from contact.html -->
    <div id="contact-page" class="page">
        <h2>Contact Us</h2>
        <p style="margin-top: 20px; font-style: italic;">
            If you have a product you'd like and you don't see it on our webpage, reach out â€” we may have it in our store or be able to order it for you.<br>
            <strong>Special orders can take up to 3 weeks to get in stock.</strong>
        </p>

        <form action="https://formspree.io/f/mgvzygaw" class="fs-form" target="_top" method="POST">
            <div class="fs-field">
                <label class="fs-label" for="name">Name</label>
                <input class="fs-input" id="name" name="name" required />
            </div>

            <div class="fs-field">
                <label class="fs-label" for="email">Email</label>
                <input class="fs-input" id="email" name="email" type="email" required />
            </div>

            <div class="fs-field">
                <label class="fs-label" for="phone">Phone Number</label>
                <input class="fs-input" id="phone" name="phone" type="tel" required />
            </div>

            <div class="fs-field">
                <label class="fs-label" for="message">Message</label>
                <textarea class="fs-textarea" id="message" name="message"></textarea>
                <p class="fs-description">We usually respond within 1â€“2 business days.</p>
            </div>

            <button class="fs-button" type="submit">Send</button>
            <div class="fs-status-container"></div>
        </form>
    </div>
    
    <!-- Cart Page Content from cart.html -->
    <div id="cart-page" class="page">
        <h2>Your Shopping Cart</h2>
        <div id="cart-items"></div>
        <div class="cart-summary">
            <div>
                <p>Subtotal:</p>
                <p id="subtotal">$0.00</p>
            </div>
            <div>
                <p>Delivery Fee:</p>
                <p id="delivery-fee">$45.00</p>
            </div>
            <div>
                <p>Credit Card Fee:</p>
                <p id="credit-fee">$0.00</p>
            </div>
            <div class="grand-total">
                <p>Grand Total:</p>
                <p id="grand">$0.00</p>
            </div>
        </div>
        <a href="#" id="checkout-link" class="checkout-button">Proceed to Checkout</a>
    </div>

    <!-- Checkout Page Content from checkout.html -->
    <div id="checkout-page" class="page">
        <h2>Checkout</h2>
        <div class="checkout-summary">
            <h3>Order Summary</h3>
            <div id="checkout-details"></div>
            <div class="cart-summary">
                <div class="grand-total">
                    <p>Grand Total:</p>
                    <p id="checkout-grand-total">$0.00</p>
                </div>
            </div>
        </div>
        <div class="checkout-payment">
            <h3>Payment</h3>
            <p>Your total is <span id="payment-total-display">$0.00</span>. Click below to complete your order.</p>
            <button class="checkout-button" onclick="completePayment()">Complete Payment</button>
        </div>
    </div>
</div>

<script>
    // --- Data and State Management ---
    // Combined product data to power the cart functionality
    const PRODUCTS = [
        { id: 'h1', category: 'horse', title: 'Pelleted Horse Feed 50lb', price: 24.99, img: 'https://placehold.co/300x300/e0e0e0/000000?text=Pelleted+Feed' },
        { id: 'h2', category: 'horse', title: 'Horse Supplements', price: 35.50, img: 'https://placehold.co/300x300/e0e0e0/000000?text=Horse+Supplements' },
        { id: 'l1', category: 'livestock', title: 'Chicken Feed 25lb', price: 18.99, img: 'https://placehold.co/300x300/e0e0e0/000000?text=Chicken+Feed' },
        { id: 'l2', category: 'livestock', title: 'Goat Mineral Mix', price: 22.50, img: 'https://placehold.co/300x300/e0e0e0/000000?text=Goat+Mineral+Mix' },
        { id: 'hg1', category: 'home-garden', title: 'Pruning Shears', price: 12.99, img: 'https://placehold.co/300x300/e0e0e0/000000?text=Pruning+Shears' },
        { id: 'hg2', category: 'home-garden', title: 'Tomato Cages (Set of 3)', price: 9.75, img: 'https://placehold.co/300x300/e0e0e0/000000?text=Tomato+Cages' },
        { id: 'wbd1', category: 'wild-bird-deer', title: 'Wild Bird Seed Mix 10lb', price: 15.00, img: 'https://placehold.co/300x300/e0e0e0/000000?text=Bird+Seed' },
        { id: 'wbd2', category: 'wild-bird-deer', title: 'Deer Corn 40lb', price: 10.50, img: 'https://placehold.co/300x300/e0e0e0/000000?text=Deer+Corn' }
    ];

    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // --- Modal Functions (Replaces alert()) ---
    function showModal(message) {
        document.getElementById('modal-message').innerText = message;
        document.getElementById('custom-modal').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('custom-modal').style.display = 'none';
    }

    // --- Page Navigation and Rendering ---
    function navigate(pageId) {
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });
        const targetPage = document.getElementById(pageId);
        if (targetPage) {
            targetPage.classList.add('active');
        }

        // Conditionally render based on the navigated page
        if (pageId === 'cart-page') {
            renderCart();
        } else if (pageId === 'checkout-page') {
            renderCheckout();
        }
    }
    
    function renderCart() {
        const cartItemsContainer = document.getElementById('cart-items');
        if (!cartItemsContainer) return;
        cartItemsContainer.innerHTML = '';

        if (cart.length === 0) {
            cartItemsContainer.innerHTML = `<p style="text-align: center; color: #888;">Your cart is empty.</p>`;
            document.getElementById('checkout-link').style.display = 'none';
        } else {
            document.getElementById('checkout-link').style.display = 'block';
            cart.forEach(item => {
                const cartItemHtml = `
                    <div class="cart-item">
                        <img src="${item.img}" alt="${item.title}"/>
                        <div class="cart-item-details">
                            <h4>${item.title}</h4>
                            <p>$${item.price.toFixed(2)}</p>
                        </div>
                        <div class="cart-item-controls">
                            <input type="number" min="1" value="${item.quantity}" onchange="updateCartItemQuantity('${item.id}', this.value)"/>
                            <button onclick="removeFromCart('${item.id}')">Remove</button>
                        </div>
                        <p style="font-weight: bold;">$${(item.price * item.quantity).toFixed(2)}</p>
                    </div>
                `;
                cartItemsContainer.innerHTML += cartItemHtml;
            });
        }
        updateCartTotals();
    }

    function renderCheckout() {
        const checkoutDetails = document.getElementById('checkout-details');
        if (!checkoutDetails) return;
        checkoutDetails.innerHTML = '';
        
        cart.forEach(item => {
            const itemHtml = `
                <p><strong>${item.title}</strong> x${item.quantity} ($${(item.price * item.quantity).toFixed(2)})</p>
            `;
            checkoutDetails.innerHTML += itemHtml;
        });
        
        const totals = calculateTotals();
        document.getElementById('checkout-grand-total').innerText = `$${totals.grandTotal.toFixed(2)}`;
        document.getElementById('payment-total-display').innerText = `$${totals.grandTotal.toFixed(2)}`;
    }

    // --- Cart Manipulation ---
    function addToCart(productId) {
        const product = PRODUCTS.find(p => p.id === productId);
        if (!product) {
            showModal('Product not found.');
            return;
        }
        
        const existingItem = cart.find(item => item.id === productId);

        if (existingItem) {
            existingItem.quantity++;
        } else {
            cart.push({ ...product, quantity: 1 });
        }
        
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        showModal(`${product.title} added to cart!`);
    }

    function removeFromCart(productId) {
        cart = cart.filter(item => item.id !== productId);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        renderCart();
        showModal('Item removed from cart!');
    }
    
    function updateCartItemQuantity(productId, newQuantity) {
        const item = cart.find(i => i.id === productId);
        if (item) {
            item.quantity = parseInt(newQuantity, 10);
            if (item.quantity <= 0) {
                removeFromCart(productId);
            } else {
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                renderCart();
            }
        }
    }

    function calculateTotals() {
        const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        const deliveryFee = 45.00;
        const creditCardFee = (subtotal + deliveryFee) * 0.03;
        const grandTotal = subtotal + deliveryFee + creditCardFee;
        return { subtotal, deliveryFee, creditCardFee, grandTotal };
    }

    function updateCartTotals() {
        const totals = calculateTotals();
        document.getElementById("subtotal").innerText = `$${totals.subtotal.toFixed(2)}`;
        document.getElementById("delivery-fee").innerText = `$${totals.deliveryFee.toFixed(2)}`;
        document.getElementById("credit-fee").innerText = `$${totals.creditCardFee.toFixed(2)}`;
        document.getElementById("grand").innerText = `$${totals.grandTotal.toFixed(2)}`;
    }

    function updateCartCount() {
        const count = cart.reduce((sum, item) => sum + item.quantity, 0);
        document.getElementById('cart-count').innerText = count;
    }

    function completePayment() {
        showModal('Transaction completed! Thank you for your purchase.');
        localStorage.removeItem('cart');
        cart = []; // Reset local cart variable
        updateCartCount();
        navigate('home-page');
    }
    
    // --- Search Functionality (adapted for each page) ---
    function setupSearch(searchInputId, noResultsId, gridId) {
        const searchInput = document.getElementById(searchInputId);
        const noResults = document.getElementById(noResultsId);
        const productGrid = document.getElementById(gridId);
        
        if (!searchInput || !noResults || !productGrid) return;
        
        searchInput.addEventListener("input", function() {
            let filter = this.value.toLowerCase();
            let products = productGrid.querySelectorAll(".product-card");
            let visibleCount = 0;

            products.forEach(card => {
                let text = card.innerText.toLowerCase();
                if (text.includes(filter)) {
                    card.style.display = "";
                    visibleCount++;
                } else {
                    card.style.display = "none";
                }
            });

            noResults.style.display = visibleCount === 0 ? "block" : "none";
        });
    }

    // --- Event Listeners and Initial Load ---
    document.addEventListener('DOMContentLoaded', () => {
        // Event listeners for navigation
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const pageId = link.getAttribute('data-page');
                navigate(pageId + '-page');
            });
        });
        
        // Event listener for "Proceed to Checkout" button
        const checkoutLink = document.getElementById('checkout-link');
        if (checkoutLink) {
            checkoutLink.addEventListener('click', (e) => {
                e.preventDefault();
                navigate('checkout-page');
            });
        }
        
        // Add event listeners to all "Add to Cart" buttons
        document.querySelectorAll(".add-to-cart").forEach(button => {
            button.addEventListener("click", (event) => {
                const productId = event.target.getAttribute('data-id');
                addToCart(productId);
            });
        });

        // Initialize search for each product page
        setupSearch('search-horse', 'no-results-horse', 'horse-grid');
        setupSearch('search-livestock', 'no-results-livestock', 'livestock-grid');
        setupSearch('search-home-garden', 'no-results-home-garden', 'home-garden-grid');
        setupSearch('search-wild-bird-deer', 'no-results-wild-bird-deer', 'wild-bird-deer-grid');

        // Initialize cart count on page load
        updateCartCount();
        navigate('home-page');
    });
</script>

</body>
</html>

